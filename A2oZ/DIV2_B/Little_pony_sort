#include <bits/stdc++.h>

using namespace std;
 
int main()  
{
   int n,i,c=0,loc;
   cin>>n;
   int a[n];
   for(i=0;i<n;i++)
    {
        cin>>a[i];
    }
    if(n==2)
     {
         if(a[0]<=a[1])
           cout<<"0"<<endl;
         else
           cout<<"1"<<endl;
     }
    else
     {
        for(i=0;i<n-1;i++)
          {
              if(a[i]>a[i+1])
               {
                loc=i;   
                c++;   
               }
          }
        if(c==1)
         {
             if(a[n-1]<=a[0])
              cout<<n-(loc+1)<<endl;
            else
              cout<<"-1"<<endl; 
         }
        else if(c==0)
          cout<<"0"<<endl;
        else
         {
           cout<<"-1"<<endl;
         }
      }
}